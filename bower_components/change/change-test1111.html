<link href="../polymer/polymer.html" rel="import">

<dom-module id="test1111">
    <template>
        <header class="header">
            <section class="top">
                <div class="topLine"></div>
                <section class="topWrap ">
                    <div class="index-grid index-grid-md">
                        <div>
                            <a><img src="img/logo/Change.png" class="logo"></a>
                        </div>
                        <div>
                            <div class="input-group1">
                            </div>
                        </div>
                        <div>
                            <button style="width: 100px;
    background-color: #F0846C;
    color: white;
    border-radius: 2px;
    height: 40px;
    margin-top: 16px;">收费區
                            </button>
                        </div>
                        <change-user-panel>
                            <div><button>/ 註冊</button><button>/ 登入</button></div>
                        </change-user-panel>
                    </div>
                </section>
            </section>
            <section class="menu">
                <nav class="menu">
                    <input type="checkbox" id="menuToggle">
                    <label for="menuToggle" class="menu-icon"><i class="fa fa-bars"></i></label>
                    <ul>
                        <a id="a1" href="#">
                            <li>55555</li>
                        </a>
                        <a id="a2" href="#">
                            <li>識多啲</li>
                        </a>
                        <a id="a3" href="#">
                            <li>看多啲</li>
                        </a>
                        <a id="a4" href="#">
                            <li>靚多啲</li>
                        </a>
                        <a id="a5" href="#">
                            <li>知多啲</li>
                        </a>
                        <a id="a6" href="#">
                            <li>知多啲</li>
                        </a>
                        <a id="a7" href="#">
                            <li>知多啲</li>
                        </a>
                        <a id="a8" href="#">
                            <li>知多啲</li>
                        </a>
                    </ul>
                </nav>
            </section>
        </header>
    </template>
</dom-module>
<script>
    (function() {
        Polymer({
            is: 'test1111',
            properties: {},
            created: function() {},
            ready: function() {
                let that = this;
                let shadow = this.shadowRoot;
                let URL = "https://41khtanrje.execute-api.ap-northeast-1.amazonaws.com/prod/Dazzle-elasticSearchController";
                let parama = {
                    "action": "searchData",
                    "index": "change",
                    "type": "categories",
                    "body": {
                        "query": {
                            "match_all": {}
                        }
                    }
                };
                Polymer.postData(URL, parama).then(res => {
                    console.log("Result", res);
                    if (res.code > 0) {
                        console.log('Success');
                        this.shadowRoot.querySelector('#a1').innerHTML = res.resolve[0]['name'];

                    } else {
                        console.log("elstic search change.categories failed to res");
                    }
                })
            }
        });
    })();
</script>