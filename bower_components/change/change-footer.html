<link rel="import" href="../polymer/polymer.html">

<dom-module id="change-footer">

    <template>

        <style>
            li {
                display: block;
            }

            .footer {
                background-color: #F0846C;
                color: white;
                height: auto;
                line-height: 1.5;
            }

            .fpanel1 {
                width: 100%;
                margin: 0 auto;
                width: 100%;
                margin: 0 auto;
                display: grid;
                grid-row-gap: 20px;
                grid-column-gap: 15px;
                grid-template-columns: 28% 28% 28%;
                grid-template-rows: 50% 50%;
            }

            a.test {
                color: white;
                text-decoration: none;
                font-size: 12px;
                line-height: 30px;
            }

            #social {
                display: flex;
                justify-content: space-between;
                margin: 0 auto;
                text-align: center;
                align-items: center;
                display: inline-flex;
                float: right;
                grid-column: 1 / 5;
                grid-row: 2 / 3;
            }

            .footer {
                height: 300px;
            }

            @media (max-width: 768px) {
                .footer {
                    display: none;
                }

                .fpanel1 {
                    width: 100%;
                    margin: 0 auto;
                    padding-bottom: 10px;
                    width: 100%;
                    margin: 0 auto;
                    display: grid;
                    grid-row-gap: 10px;
                    grid-column-gap: 15px;
                    grid-template-columns: repeat(3, 32%);
                    text-align: start;
                }

                #social {
                    display: flex;
                    justify-content: space-between;
                    margin: 0 auto;
                    text-align: center;
                    align-items: center;
                    display: inline-flex;
                    float: right;
                    grid-column: 2 / 4;
                    grid-row: 2 / 3;
                }

                .footer {
                    height: 500px;
                }
            }
        </style>
        <slot></slot>

    </template>

</dom-module>

<script>
    (function() {
        Polymer({
            is: 'change-footer',
            properties: {},
            created: function() {

                let basePath =  "template/" + Polymer.tid + "/_block/";
                this.label = '頁尾';
                this.menu = [{
                            'text': '編輯',
                            'event': 'edit',
                            'source':this
                        }];

                Polymer.getUserDataContent(basePath+'footer').then(html=>{
                        this.innerHTML = `
                            <footer id="footer" class="footer">
                          `
                                +html+
                          `  
                            </footer>
                        `;
                });        


            },
            edit(){
                this.editor();  
            },
            ready: function() {
                document.addEventListener('areachange', e => {
                  if (e.detail.isFree == true) {
                        document.querySelector('.footer').style.backgroundColor = "#4CAF50";

                    } else {
                        document.querySelector('.footer').style.backgroundColor = "#F0846C";

                    }
                })
            },



        });
    })();
</script>