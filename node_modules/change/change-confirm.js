import { PolymerElement, html } from '/node_modules/@polymer/polymer/polymer-element.js';
import {Dazzle} from '/node_modules/@dazzle/dz-dazzle/dz-library.js';

class dzElm extends PolymerElement {
  static get properties () {
    return {
        id: {
            "type": String
        }
    };
  }

  constructor() {
    super();
    this.prodManager = new DataPackage('product');
  }
  _cfm(e){
    console.log("confirm button is working");

    //          this.prodManager.removeData(this.id);
              // deleting item
              var eventdel = new CustomEvent('delete-item-'+this.id, {});
              document.dispatchEvent(eventdel);
    
              // closing pop-up
              var event = new CustomEvent('close-item-dialog', {});
              document.dispatchEvent(event);
    
  }
  _cancel(e){
      this.dialog.opened = false;
  }
  ready() {
      super.ready();
      let that = this;
      let shadow = this.shadowRoot;

      // confirm btn
      let cfcDialog = shadow.querySelector('.confirmyes');
    //   cfcDialog.addEventListener("click", (e) => {

    //   })

      // closing btn
    //   let cfmDialog = shadow.querySelector('.confirmno');
    //   cfmDialog.addEventListener("click", (e) => {
    //       console.log("close button is working");

    //       // closing pop-up
    //       var event = new CustomEvent('close-item-dialog', {});
    //       document.dispatchEvent(event);

    //   })

}

  static get template () {
    // Template getter must return an instance of HTMLTemplateElement.
    // The html helper function makes this easy.
    return html`
    <style>
    .confirm-grid {
        text-align: center;
        display: grid;
        grid-row-gap: 5px;
        grid-column-gap: 1px;
        grid-template-columns: 40% 40%;
        /* grid-template-columns: repeat(2, 1fr); */
        justify-content: center;
        align-content: flex-end;
    }

    .text {
        grid-column-start: 1;
        grid-column-end: 3;
        grid-row-start: 1;
        grid-row-end: 2;
        padding-top: 4%;
        font-size: 200%;
    }

    .confirmyes {
        height: 40px;
        width: 100%;
        background-color: #F0846C;
        font-size: 130%;
        color: white;
        border: none;
        border-radius: 3px;
    }

    .confirmno {
        height: 40px;
        width: 100%;
        background-color: #F06C6C;
        font-size: 130%;
        color: white;
        border-radius: 3px;
        border: none;
    }
</style>
<div class="confirm-grid">
    <span class="text">是否確認刪除?</span>
    <div>
        <button class="confirmyes" on-click="_cfm">確定</button>
    </div>
    <div>
        <button class="confirmno" on-click="_cancel">返回</button>
    </div>
</div>
    `;
  }
}

// Register the element with the browser.
customElements.define('change-confirm', dzElm);

