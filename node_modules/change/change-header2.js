import { PolymerElement, html } from '/node_modules/@polymer/polymer/polymer-element.js';
// import '/node_modules/@vaadin/vaadin-dialog/vaadin-dialog.js';
// import { Dazzle } from '/node_modules/@dazzle/dz-dazzle/dz-library.js';
// import "./change-header2-top.js";
// import "./change-header-nav.js";

// Dazzle.loadScript("https://kit.fontawesome.com/a076d05399.js");
// Dazzle.loadStyle("https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css");


class changeheader extends PolymerElement {
    static get properties() {
        return {

        };
    }

    constructor() {
        super();
        // Dazzle.uid = "change";
        // Dazzle.tid = "change";
        // Dazzle.userBucket = "change.dazzle.website";
        
        // let basePath = "template/" + Dazzle.tid + "/_block/";
        // this.label = 'Get Change選單';
        // this.menu = [{
        //     'text': '編輯選單',
        //     'event': 'editMenu',
        //     'source': this
        // }];
        // this.editMenu = function() {
        //     console.log('Edit Menu');
        //     // console.log('Edit Menu',this.selected);
        //     Dazzle.loadComponent('change', 'change-edit-category');
        //     let popup = document.createElement('change-edit-category');
        //     Dazzle.componentPopup(popup, '640px', '480px');
        // }

        // if (Dazzle.editMode === "admin") {
        //     // this.addEventListener('contextmenu',e=>{
        //     //     console.log('Context',e.path[0]);
        //     // });
        // }
    }
    ready() {
        super.ready();
    }
    searchlist() {
        let shadow = this.shadowRoot;
        if (shadow.querySelector('.s').value == "0") {
            var serchcat = '/list-product.html?tag' + shadow.querySelector('#searchmain').value;
        } else {
            var serchcat = "/list-product.html?user" + shadow.querySelector('#searchmain').value;
        }
        location.href = serchcat;
    }

    _editMenu() {
        console.log("Inside Edit Menu");
        let shadow = this.shadowRoot;
        let dialog = shadow.querySelector('vaadin-dialog');
        Dazzle.popup(dialog, "change", "change-header-info", "85%", "85%");
        console.log("Executed");
    }
    static get template() {
        // Template getter must return an instance of HTMLTemplateElement.
        // The html helper function makes this easy.
        return html `
        hello,world
    `;
    }
}

// Register the element with the browser.
customElements.define('change-header2', changeheader);